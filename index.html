<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@500;700&display=swap" rel="stylesheet">
    <style>
        /*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */

        /* Document
           ========================================================================== */

        /**
         * 1. Correct the line height in all browsers.
         * 2. Prevent adjustments of font size after orientation changes in iOS.
         */

        html {
            line-height: 1.15; /* 1 */
            -webkit-text-size-adjust: 100%; /* 2 */
        }

        /* Sections
           ========================================================================== */

        /**
         * Remove the margin in all browsers.
         */

        body {
            margin: 0;
        }

        /**
         * Render the `main` element consistently in IE.
         */

        main {
            display: block;
        }

        /**
         * Correct the font size and margin on `h1` elements within `section` and
         * `article` contexts in Chrome, Firefox, and Safari.
         */

        h1 {
            font-size: 2em;
            margin: 0.67em 0;
        }

        /* Grouping content
           ========================================================================== */

        /**
         * 1. Add the correct box sizing in Firefox.
         * 2. Show the overflow in Edge and IE.
         */

        hr {
            box-sizing: content-box; /* 1 */
            height: 0; /* 1 */
            overflow: visible; /* 2 */
        }

        /**
         * 1. Correct the inheritance and scaling of font size in all browsers.
         * 2. Correct the odd `em` font sizing in all browsers.
         */

        pre {
            font-family: monospace, monospace; /* 1 */
            font-size: 1em; /* 2 */
        }

        /* Text-level semantics
           ========================================================================== */

        /**
         * Remove the gray background on active links in IE 10.
         */

        a {
            background-color: transparent;
        }

        /**
         * 1. Remove the bottom border in Chrome 57-
         * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.
         */

        abbr[title] {
            border-bottom: none; /* 1 */
            text-decoration: underline; /* 2 */
            text-decoration: underline dotted; /* 2 */
        }

        /**
         * Add the correct font weight in Chrome, Edge, and Safari.
         */

        b,
        strong {
            font-weight: bolder;
        }

        /**
         * 1. Correct the inheritance and scaling of font size in all browsers.
         * 2. Correct the odd `em` font sizing in all browsers.
         */

        code,
        kbd,
        samp {
            font-family: monospace, monospace; /* 1 */
            font-size: 1em; /* 2 */
        }

        /**
         * Add the correct font size in all browsers.
         */

        small {
            font-size: 80%;
        }

        /**
         * Prevent `sub` and `sup` elements from affecting the line height in
         * all browsers.
         */

        sub,
        sup {
            font-size: 75%;
            line-height: 0;
            position: relative;
            vertical-align: baseline;
        }

        sub {
            bottom: -0.25em;
        }

        sup {
            top: -0.5em;
        }

        /* Embedded content
           ========================================================================== */

        /**
         * Remove the border on images inside links in IE 10.
         */

        img {
            border-style: none;
        }

        /* Forms
           ========================================================================== */

        /**
         * 1. Change the font styles in all browsers.
         * 2. Remove the margin in Firefox and Safari.
         */

        button,
        input,
        optgroup,
        select,
        textarea {
            font-family: inherit; /* 1 */
            font-size: 100%; /* 1 */
            line-height: 1.15; /* 1 */
            margin: 0; /* 2 */
        }

        /**
         * Show the overflow in IE.
         * 1. Show the overflow in Edge.
         */

        button,
        input { /* 1 */
            overflow: visible;
        }

        /**
         * Remove the inheritance of text transform in Edge, Firefox, and IE.
         * 1. Remove the inheritance of text transform in Firefox.
         */

        button,
        select { /* 1 */
            text-transform: none;
        }

        /**
         * Correct the inability to style clickable types in iOS and Safari.
         */

        button,
        [type="button"],
        [type="reset"],
        [type="submit"] {
            -webkit-appearance: button;
        }

        /**
         * Remove the inner border and padding in Firefox.
         */

        button::-moz-focus-inner,
        [type="button"]::-moz-focus-inner,
        [type="reset"]::-moz-focus-inner,
        [type="submit"]::-moz-focus-inner {
            border-style: none;
            padding: 0;
        }

        /**
         * Restore the focus styles unset by the previous rule.
         */

        button:-moz-focusring,
        [type="button"]:-moz-focusring,
        [type="reset"]:-moz-focusring,
        [type="submit"]:-moz-focusring {
            outline: 1px dotted ButtonText;
        }

        /**
         * Correct the padding in Firefox.
         */

        fieldset {
            padding: 0.35em 0.75em 0.625em;
        }

        /**
         * 1. Correct the text wrapping in Edge and IE.
         * 2. Correct the color inheritance from `fieldset` elements in IE.
         * 3. Remove the padding so developers are not caught out when they zero out
         *    `fieldset` elements in all browsers.
         */

        legend {
            box-sizing: border-box; /* 1 */
            color: inherit; /* 2 */
            display: table; /* 1 */
            max-width: 100%; /* 1 */
            padding: 0; /* 3 */
            white-space: normal; /* 1 */
        }

        /**
         * Add the correct vertical alignment in Chrome, Firefox, and Opera.
         */

        progress {
            vertical-align: baseline;
        }

        /**
         * Remove the default vertical scrollbar in IE 10+.
         */

        textarea {
            overflow: auto;
        }

        /**
         * 1. Add the correct box sizing in IE 10.
         * 2. Remove the padding in IE 10.
         */

        [type="checkbox"],
        [type="radio"] {
            box-sizing: border-box; /* 1 */
            padding: 0; /* 2 */
        }

        /**
         * Correct the cursor style of increment and decrement buttons in Chrome.
         */

        [type="number"]::-webkit-inner-spin-button,
        [type="number"]::-webkit-outer-spin-button {
            height: auto;
        }

        /**
         * 1. Correct the odd appearance in Chrome and Safari.
         * 2. Correct the outline style in Safari.
         */

        [type="search"] {
            -webkit-appearance: textfield; /* 1 */
            outline-offset: -2px; /* 2 */
        }

        /**
         * Remove the inner padding in Chrome and Safari on macOS.
         */

        [type="search"]::-webkit-search-decoration {
            -webkit-appearance: none;
        }

        /**
         * 1. Correct the inability to style clickable types in iOS and Safari.
         * 2. Change font properties to `inherit` in Safari.
         */

        ::-webkit-file-upload-button {
            -webkit-appearance: button; /* 1 */
            font: inherit; /* 2 */
        }

        /* Interactive
           ========================================================================== */

        /*
         * Add the correct display in Edge, IE 10+, and Firefox.
         */

        details {
            display: block;
        }

        /*
         * Add the correct display in all browsers.
         */

        summary {
            display: list-item;
        }

        /* Misc
           ========================================================================== */

        /**
         * Add the correct display in IE 10+.
         */

        template {
            display: none;
        }

        /**
         * Add the correct display in IE 10.
         */

        [hidden] {
            display: none;
        }

        html {
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
        }

        *, *::before, *::after {
            -webkit-box-sizing: inherit;
            box-sizing: inherit;
            -webkit-tap-highlight-color: transparent;
        }

        p, h1, h2, h3, h4, h5, h6 {
            margin: 0;
        }

        img {
            width: 100%;
            height: 100%;
        }

        .wrapper {
            max-width: 600px;
            height: 100vh;
            margin: 0 auto;
            font-family: 'Heebo', 'Arial', sans-serif;
            font-style: normal;
            position: relative;
            overflow: hidden;
        }

        .main {
            width: 100%;
            height: 75%;
            padding: 3vh 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            background: linear-gradient(0deg, #047DAE, #047DAE), #047DAE;
        }

        .header {
            width: 100%;
            text-align: center;
            padding-bottom: 3vh;
            position: relative;
        }

        .header-title {
            font-weight: 700;
            font-size: 20px;
            line-height: 32px;
            letter-spacing: 0.04em;
            color: #FFD17C;
            margin-bottom: 5px;
        }

        .header-subtitle {
            font-weight: 500;
            font-size: 14px;
            line-height: 22px;
            letter-spacing: 0.04em;
            color: #fff;
        }

        .header-hint {
            position: absolute;
            top: 0;
            right: 0;
        }

        .windows {
            width: 100%;
            height: 60vh;
            display: grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
            grid-column-gap: 50px;
            grid-row-gap: 20px;
            justify-content: space-around;
            background-color: #fff;
            border-radius: 5px;
            padding: 20px 25px;
            position: relative;
        }

        .windows-cell {
            text-align: center;
            position: relative;
            background: url(img/cell-bg.svg) center no-repeat;
            background-size: contain;
        }

        .window-img {
            position: absolute;
            top: 0;
            left: 0;
        }

        .window-img.hide {
            display: none;
        }

        .footer {
            width: 100%;
            height: 25%;
            background-color: #E6E0DA;
        }

        .footer-wrapper {
            display: flex;
            justify-content: space-around;
        }

        .footer-bg {
            width: 100%;
            height: 100%;
        }

        .window-drop {
            width: 70px;
            height: 70px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .window-drop div {
            width: 98%;
            height: 43px;
            background-color: #fff;
            box-shadow: inset 0 0 8px rgba(98, 96, 96, 0.71);
            border-radius: 34px 34px 0 0;
        }

        .window-drop.active div {
            border: 2px solid #FFD17C;
        }


    </style>
    <title>Windows riddle</title>
</head>
<body>
<div class="wrapper" dir="rtl">
    <div class="main">
        <div class="header">
            <div class="header-title">
                כיצד נראים החלונות?
            </div>
            <div class="header-subtitle">
                בחר את החלונות התואמים את החללים הריקים
            </div>
            <div class="header-hint">
                <svg width="21" height="30" viewBox="0 0 21 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_1112_7428)">
                        <path d="M19.661 10.632C19.661 5.40515 15.2771 1.17539 9.8954 1.24887C4.66599 1.31856 0.416684 5.51099 0.404053 10.6091C0.408415 12.0797 0.756903 13.5282 1.42063 14.8339C2.08436 16.1395 3.04416 17.2647 4.22022 18.1162C4.66285 18.4371 5.02428 18.8603 5.27489 19.3516C5.52551 19.8428 5.65809 20.3876 5.66164 20.9413V22.4223C5.67022 22.8102 5.82956 23.1788 6.10463 23.4469C6.37969 23.715 6.74795 23.861 7.12837 23.8523H12.9366C13.317 23.861 13.6853 23.715 13.9604 23.4469C14.2354 23.1788 14.3948 22.8102 14.4033 22.4223V20.9413C14.4072 20.3874 14.5399 19.8423 14.7906 19.3508C15.0414 18.8594 15.4029 18.436 15.8456 18.1147C17.0186 17.2658 17.9763 16.1447 18.6398 14.8435C19.3033 13.5423 19.6534 12.0985 19.661 10.632V10.632Z"
                              fill="#FCFF00" stroke="black" stroke-miterlimit="10"/>
                        <path d="M9.93845 23.5101H7.34676C6.98764 23.5099 6.64327 23.3644 6.3894 23.1055C6.13554 22.8465 5.99295 22.4951 5.99295 22.129V20.6998C5.99258 20.1713 5.87226 19.6504 5.64139 19.1773C5.41052 18.7042 5.07536 18.292 4.66218 17.973C3.186 16.8337 2.09561 15.2524 1.54323 13.4508C0.990856 11.6492 1.0041 9.71691 1.58106 7.92334C2.15801 6.12976 3.26988 4.56449 4.7615 3.4463C6.25311 2.3281 8.05 1.71315 9.90127 1.6864L9.93845 23.5101Z"
                              fill="#FFD700"/>
                        <path d="M13.1944 24.5056H6.99234C6.6464 24.5056 6.36597 24.7914 6.36597 25.1438C6.36597 25.4963 6.6464 25.782 6.99234 25.782H13.1944C13.5403 25.782 13.8207 25.4963 13.8207 25.1438C13.8207 24.7914 13.5403 24.5056 13.1944 24.5056Z"
                              fill="#F3A83B" stroke="black" stroke-miterlimit="10"/>
                        <path d="M13.1944 26.3584H6.99234C6.6464 26.3584 6.36597 26.6441 6.36597 26.9966C6.36597 27.3491 6.6464 27.6348 6.99234 27.6348H13.1944C13.5403 27.6348 13.8207 27.3491 13.8207 26.9966C13.8207 26.6441 13.5403 26.3584 13.1944 26.3584Z"
                              fill="#F3A83B" stroke="black" stroke-miterlimit="10"/>
                        <path d="M11.8021 28.2113H8.38491C8.03898 28.2113 7.75854 28.497 7.75854 28.8495C7.75854 29.202 8.03898 29.4877 8.38491 29.4877H11.8021C12.148 29.4877 12.4285 29.202 12.4285 28.8495C12.4285 28.497 12.148 28.2113 11.8021 28.2113Z"
                              fill="#F3A83B" stroke="black" stroke-miterlimit="10"/>
                        <path d="M10.7335 14.995C10.9624 15.1195 11.1537 15.3052 11.2872 15.532C11.4206 15.7589 11.4911 16.0184 11.4911 16.2829C11.4911 16.5474 11.4206 16.8069 11.2872 17.0338C11.1537 17.2606 10.9624 17.4463 10.7335 17.5708C10.49 17.7032 10.2174 17.7698 9.94145 17.7646C9.66439 17.7695 9.3906 17.7029 9.14564 17.5708C8.91742 17.4493 8.72665 17.2656 8.59435 17.0404C8.46392 16.8101 8.39526 16.5488 8.39526 16.2829C8.39526 16.017 8.46392 15.7557 8.59435 15.5254C8.7268 15.3003 8.91753 15.1167 9.14564 14.995C9.39085 14.8636 9.66446 14.797 9.94145 14.8012C10.2173 14.7966 10.4898 14.8632 10.7335 14.995ZM8.79272 12.6943L8.54011 6.61865C8.53247 6.45683 8.55711 6.2948 8.61258 6.14298C8.66806 5.99116 8.7532 5.85266 8.86283 5.73537C8.97246 5.61809 9.10433 5.52473 9.25039 5.46092C9.39646 5.39711 9.5537 5.36403 9.71261 5.36401H10.2231C10.382 5.36403 10.5392 5.39711 10.6853 5.46092C10.8314 5.52473 10.9632 5.61809 11.0729 5.73537C11.1825 5.85266 11.2676 5.99116 11.3231 6.14298C11.3786 6.2948 11.4032 6.45683 11.3956 6.61865L11.1377 12.6958C11.1223 13.0023 10.9921 13.2914 10.7739 13.5029C10.5557 13.7143 10.2662 13.8319 9.96521 13.8321C9.66428 13.8315 9.37511 13.7131 9.15734 13.5014C8.93956 13.2897 8.80984 13.0007 8.79498 12.6943H8.79272Z"
                              fill="#FC8600" stroke="black" stroke-miterlimit="10"/>
                    </g>
                    <defs>
                        <clipPath id="clip0_1112_7428">
                            <rect width="20" height="29" fill="white" transform="translate(0.0339355 0.866455)"/>
                        </clipPath>
                    </defs>
                </svg>
            </div>
        </div>
        <div class="windows">
            <div class="windows-cell">
                <img class="window-img" src="img/window-2.png" alt="Window image">
            </div>
            <div class="windows-cell">
                <img class="window-img" src="img/window-1.png" alt="Window image">
            </div>
            <div class="windows-cell">
                <img class="window-img" src="img/window-4.png" alt="Window image">
            </div>
            <div class="windows-cell">
                <img class="window-img" src="img/window-3.png" alt="Window image">
            </div>
            <div class="windows-cell">
                <img class="window-img" src="img/window-6.png" alt="Window image">
            </div>
            <div class="windows-cell">
                <img class="window-img" src="img/window-5.png" alt="Window image">
            </div>
            <div class="windows-cell">
                <img class="window-img" src="img/window-8.png" alt="Window image">
            </div>
            <div class="windows-cell">
                <img class="window-img" src="img/window-7.png" alt="Window image">
            </div>
        </div>
    </div>
    <div class="footer">
        <div class="footer-wrapper">
            <div class="window-drop">
                <div></div>
            </div>
            <div class="window-drop">
                <div></div>
            </div>
            <div class="window-drop">
                <div></div>
            </div>
            <div class="window-drop">
                <div></div>
            </div>
        </div>
        <div class="footer-bg">
            <img src="img/footer-bg.png" alt="Footer image">
        </div>
    </div>
</div>
<script>

    const wrapper = document.querySelector('.windows');
    const windows = Array.from(document.querySelectorAll('.window-drop'));
    const images = Array.from(document.querySelectorAll('.window-img'));
    const windowCell = document.querySelector('.windows-cell');
    let itemAppend = null;

    images.forEach((image) => {
        image.addEventListener('touchmove', function (event) {
            event.preventDefault();
            let touch = event.targetTouches[0];
            let currentImage = this;
            if (!currentImage.classList.contains('dropped')) {
                currentImage.parentNode.style.position = 'unset';
                currentImage.style.position = 'absolute';
                currentImage.style.width = windowCell.offsetWidth + 'px';
                currentImage.style.height = windowCell.offsetHeight + 'px';
                currentImage.style.zIndex = '100';
                currentImage.style.top = `${touch.pageY - (wrapper.offsetTop) - (currentImage.offsetHeight / 2)}px`;
                currentImage.style.left = `${touch.pageX - (wrapper.offsetLeft) - (currentImage.offsetWidth / 2)}px`;
                currentImage.style.transform = 'unset';
                windows.forEach(item => {
                    if (
                        currentImage.getBoundingClientRect().top + currentImage.offsetHeight / 2 < item.getBoundingClientRect().bottom &&
                        currentImage.getBoundingClientRect().right - currentImage.offsetWidth / 2 > item.getBoundingClientRect().left &&
                        currentImage.getBoundingClientRect().bottom - currentImage.offsetHeight / 2 > item.getBoundingClientRect().top &&
                        currentImage.getBoundingClientRect().left + currentImage.offsetWidth / 2 < item.getBoundingClientRect().right
                    ) {
                        item.classList.add('active');
                        itemAppend = item;
                        currentImage.style.transform = 'scale(.7)';
                    } else {
                        item.classList.remove('active');
                    }
                });
            }

        });
        image.addEventListener('touchend', function () {
            if (!this.classList.contains('dropped')) {
                this.parentNode.style.position = 'relative';
                this.style.top = `0`;
                this.style.left = `0`;
                this.style.zIndex = '0';
            }
            if (itemAppend.classList.contains('active')) {
                itemAppend.innerHTML = "";
                itemAppend.append(this);
                itemAppend.classList.remove('active');
                this.style.width = '100%';
                this.style.height = '42px';
                this.style.position = 'static';
                this.style.transform = 'unset';
                this.classList.add('dropped');
            }
        });
    })


</script>
</body>
</html>
